<ion-header>
  <ion-navbar color="themenav">
    <button ion-button menuToggle>
      <ion-icon name="menu"></ion-icon>
    </button>
    <ion-title>Setup</ion-title>
    <ion-buttons end>
     <button ion-button icon-only (click)="clock()">
       <ion-icon name="information-circle"></ion-icon>
     </button>
   </ion-buttons>
  </ion-navbar>
</ion-header>

<ion-content style="background-color: #eee;">

  <ion-card>

    <ion-card-header><b>Linking MiHome Hub</b></ion-card-header>

    <ion-card-content>
      <div *ngIf="state.stage_one">
        <p style="line-height: 1.5em;">If your MiHome Hub is <b>bright yellow</b> you are ready to proceed. 
          If <b>bright white</b> please power down your MiHome Hub by unplugging it 
          and plugging it back into a power source. If you are experiencing something else, 
          please tap the help icon at the top right to troublshoot your hardware. Once you are seeing the <b>yellow light</b>
          you can begin linking your MiHome node to this app. To start, tap the button below to scan your MiHome Hub QR Code.</p>
        <br>
        <button ion-button full color="menutheme" (click)="qr()" [(disabled)]="state.stage_one_qr">Scan Hub QR Code</button>
      </div>
      <div *ngIf="state.stage_two">
        <p style="line-height: 1.5em;">Now, please enter a location name to link this MiHome Hub.</p>
        <ion-list>
          <ion-input type="text" [(ngModel)]="name" placeholder="Enter location name."></ion-input>
        </ion-list>
        <span><b>MAC Address:</b> {{hub.macaddress}}</span>
        <br>
        <span><b>Firmware:</b> {{hub.firmware}}</span>
        <br>
        <span><b>Unique HID:</b> {{hub.hubID}}</span>
        <button ion-button full type="submit" color="themenav" (click)="configs()"><b>Link</b><ion-spinner name="bubbles" *ngIf="isSpinner"></ion-spinner></button>
      </div>
    </ion-card-content>



  </ion-card>

</ion-content>
